# c++の関数

## 新しい機能

### 関数のオーバーロード

Cでは同じ名前の関数を作るとエラーになったと思います  
C++では引数が異なれば同じ名前の関数をいくつも定義することができる  
これを関数のオーバーロードという

```C++
#include<iostream>

int plus(int i, int j){
    return i + j;
}

float plus(float i, float j){
    return i + j;
}

int main(){
    using namespace std;

    int num1 = 2;
    int num2 = 3;
    float num3 = 1.3;
    float num4 = 4.3;

    cout << plus(num1, num2) << endl;
    cout << plus(num1, num2) << endl;

    return 0;
}
```

出力

```markdown
5
5.6
```

~~`using namespace std;`ってやったの許してください~~

このように同じ名前でもきちんと呼び出すことができる

引数によって使う関数を判断するので引数が曖昧な場合、例えば片方の引数がintで片方がfloatのときのように曖昧な場合エラーになります

また、オーバーロードするときはできる限り同じ機能を持たせるようにした方がよい  
異なることをすると混乱のもとになるのでできる限り同じような機能の時に限定すること

また、これもプロトタイプ宣言が必要なのでしっかりとすること

### デフォルト引数

C言語では関数で定義した通りに正しい引数を入力しなければいけなかったが、C++ではそれを省略することができるようにすることができる機能がある

デフォルト引数である

```c++
include<iostream>

int plus(int a, int b, int c = 0, int d = 0){
    return a + b + c + d;
}

int main(){
    using namespace std;

    cout << plus(3, 1, 3, 2) <<endl;
    cout << plus(4, 3, 4) <<endl;
    cout << plus(2, 3) <<endl;

    return 0;
}
```

出力

```markdown
9
11
5
```

~~またも`using namespace std;`ってやってしまった~~

二回目のcout、三回目のcoutの時に引数が足りなかったと思うが、それでも関数を呼び出すことができた  
それでは足りない引数のところはを呼び出せていないところはどのようにして補完されているのだろうか

plus関数の引数を見てほしい  
引数の後に=がついているはずだ。これが引数として入力されていない部分をに代わりに代入される  
これがデフォルト引数の効果だ

デフォルト引数を使うときに気を付けてほしいことがある  
それは、**デフォルト引数は必ず引数の最後に置く必要がある**ということだ

こうでないとエラーを出してしまうので気を付けよう
デフォルト引数が複数ある場合は**前半はすべて普通の引数、後半はすべてデフォルト引数として置くようにする**

こうすることでいくらでもデフォルト引数を使えるし、普通の引数を混ぜたものでも十分に使えると思う

2021/11/29
written by 西永

