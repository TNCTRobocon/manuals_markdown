# まえおき
ロボコンをやっていると少なくとも年に1回は部品が燃えます。
また、なんか知らんけど動かんということは日常です。
そんな時の対処をまとめておきます。

# 基礎
1. 一気にまとめて解決しようとしてはいけない

    どこまで動いているかを探りつつ、原因個所を特定する。

2. 根気よく、かつ冷静に

    ~~部品は愛を伝えないと動いてくれません~~

3. 人を頼る

    一人だけだと行き詰ったらずっとそのままです。資料と状況を添えてつよい先輩に聞いてみましょう。

4. 本当にそこが原因なのかを自分に問いかける

    ほかの部品が壊れた結果の巻き添えや、思い込みという場合もある。

    詰まったらしっかり休憩して、すこし周りの部品にも目を向けてみましょう。
    あと夜はしっかり寝ましょう。



# 電源が入らない

<details>

### 電源ラインのショート



＜特徴＞

電源LEDが点灯しない、何もしていないのにやたらと電流を食う、部品がアツアツ、焦げ臭い等。

電源まで巻き添えを食らう可能性もあり、結構やばめ。

＜対処＞

**考える前に即電源を切り離し**、テスターでVcc-GND間を抵抗測定。0Ωだったらこれ。

＜確認すべき点＞
- ピン間での半田ブリッジ(ほとんどこれ)
- IC等の実装ミス(向きを逆に刺した等)
- 基板の設計ミス(優秀な先輩方が発注前に確認しているのでよっぽどないでしょ)
- VccとGNDの逆接続(過去のその場しのぎケーブルを知らないうちに再利用して発生することが多い)



### 電源回りのはんだ不良


＜特徴＞

電源LEDが点灯しない、電流が少しも流れない。

＜確認すべき点＞
- 電源ケーブルは使えるもの？(使い物にならないゴミが時々まぎれている)
- はんだの量は足りてる？(接続不良を引き起こしやすい)
- はんだが浮いていない？(部品の足にだけはんだが付いて基板と繋がっていないことがある)
- 部品がずれていない？(特に表面実装部品)
- 足が浮いていない？(だいじょうぶに見えて割と多い)



＜対処＞

- テスターで電圧を測ってどこまで電気が来ているかを確認しつつ、どこが原因か探る。

- はんだ不良は加熱不足が原因のことが多いので、部品と基板をよく温める(部品は強いので、アツアツにしても一部をのぞいてそう壊れない)



### 実は電源系統は正常

＜特徴＞

基板のほかの部分に異常が発生して、結果として動かなかったものを電源系統の異常と勘違いするパターン。

＜確認すべき点＞

- それ本当に電源系の異常？

＜対処＞

- 電源がどこまで繋がっているかテスターで確認しましょう。どこまで正常かという情報は大きな手掛かりです。
- 電源系に全く異常が見つからない場合は部品の故障もしくはほかの場所の故障を疑う。

</details>


# 部品が爆ぜた(焦げた)

<details>

### 回路のショート

＜特徴＞

リポバッテリーをつないだら爆ぜた…というのはこれ。~~というかいきなりリポに繋ぐなよ~~

ごくまれに、基板を使っていたらいきなり燃えるパターンもある。

~~あとはネジが基板に落下して燃えるパターン~~

＜確認すべき点＞

- **燃えた瞬間の状態(重要)**
- 何らかの理由で部品の定格を超えてしまっている(ショート等)ので、電源を繋いだ時の回路の状態をイメージしてみよう。
- 部品の極性・ピン配置は合ってる？


＜対処＞

- 燃えたときの状況をイメージしてみる。場合によっては安定化電源で再現実験。
- 燃えた部品周辺の、本来繋がっていないはずの回路が繋がっていないかテスターで確認する。
- つかっている部品は正しい？(棚にしまったときに定格の違う部品が混ざることがまれにある)
- 基板は確実に保護。(というかルールでもそう決まっていたような)
- **そもそもいきなりリポに繋ぐな何のために安定化電源があると思ってんだ**

**ノイズ等の初心者には厳しい原因も普通に発生するので遠慮なく先輩に質問しよう**

### 部品の定格オーバー

＜特徴＞

こちらも電源を繋いだ瞬間に燃えるパターンと、基板使用中に燃える場合がある。

たいていは過去の自分の設計・計算ミスor調子にのって無理をさせたのが原因。

安定化電源のつまみを回しすぎて燃える…ということもあるので注意。

＜確認すべき点＞

- **燃えた瞬間の状態(重要)**
- 燃えた部品の定格を確認
- 設計時の計算を、できれば複数人で再確認。

＜対処＞

- 燃えたときの状況をイメージしてみる。原因個所を見つけ出して改修。
- 部品の交換。場合によっては基板の再発注。

</details>

# マイコンにプログラムが書き込めない

### ライター(ST-Link等)の不具合

＜特徴＞

燃えたNucleoから剥がして改造したものだし…無理な改造が祟って割と後付けした線の断線が多い

また、たまにPCとライターを繋ぐ線に充電用ケーブルを使ってしまって困る人もいる。~~充電用ケーブルは滅ぶべし~~

＜確認すべき点＞

- とりあえず確実に動くと分かっているマイコンに書き込んでみよう。
- 線が断線していないか確認しよう

＜対処＞
- 断線なら頑張って直しましょう。
- ライター本体の故障はどうしようもないのであきらめてほかの物を使いましょう。~~改造元は幾らでもある~~
