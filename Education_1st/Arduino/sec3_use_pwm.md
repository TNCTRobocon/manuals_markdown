# PWM信号を使ってみよう
## LEDの明るさを調節しよう
これまでのコードでは、LEDの明るさは「点灯する」か「消灯する」のどちらかしか表現できませんでした。  
しかし、モーターの速さを調節したい！など、点灯と消灯だけではどうにもならないことがあります。  
そんなときに使うのがPWM(Pulse Width Modulation)です。  
簡単に言うとONとOFFの間隔を高速で調節し、出力される電気を調節することで、擬似的に明るさを表現する方法です。  

## プログラム
```C
//出力を11番ピン, 間隔を100ミリ秒にした例
void setup(){
  pinMode(11, OUTPUT); //ピンの初期設定 
                       //analogWriteでは必ずしも必要ない(後述)
}
  
void loop(){
  analogWrite(11, 255); //11番ピンから 255(最大)
  delay(100);             //100ms待つ
  analogWrite(11, 150);  //11番ピンから 150
  delay(100);             //100ms待つ
}
```

解説はこちら。  

`pinMode(11, OUTPUT); //ピンの初期設定 //analogWriteでは必ずしも必要ない(後述)`  
いつものやつ。実は、PWM信号を出力する際はpinModeは必要ありません。  
ただし、明示的に記入することであとでわかりやすくなります。  
一つ注意してほしいのが、ArduinoからPWMを出力できるピンは限られています。  
調べてからやるようにしてください。  

`analogWrite(11, 255); //11番ピンから 255(最大)`  
PWMの出力にはanalogWriteを使います。  
第一引数は流したいピンの番号、第二引数はデューティ比(強さとでも思ってください)をいれます。  

2023/08/03 written by Kohki S.  
ひとこと:わざわざ書かなくてもよかったんじゃ...?